# Chapter 7: 함수 (Functions)

## 7-1. 함수의 작성과 사용

### 함수(Function)란?
- 특정 기능을 수행하는 **코드 단위**이다.  
- **표준 라이브러리 함수**: 미리 구현되어 있으며, 프로그램에서 바로 사용할 수 있다.  
- **사용자 정의 함수**: 자주 사용하는 코드를 함수로 만들어 필요할 때 호출하여 사용한다.  
- 함수 작성 시 중요한 개념:  
  1. **함수 정의** (Function Definition)  
  2. **함수 호출** (Function Call)  
  3. **함수 선언** (Function Declaration)  

### 함수 정의 (Function Definition)
- **함수 원형(Prototype)**:  
  - **함수명**은 기능을 나타내야 한다.  
  - **매개변수(Parameter)**: 함수가 필요로 하는 데이터  
  - **반환값(Return Value)**: 함수 실행 후 돌려주는 결과값  

- **기본적인 함수 정의 형식**  
  ```c
  반환형 함수명(매개변수1, 매개변수2) {
      // 함수가 수행하는 명령
      return 결과값;
  }
  ```
- **함수 정의 관련 규칙**  
  - 한 함수 안에 또 다른 함수를 정의할 수 없다.  
  - 따라서 함수는 별도의 구역에서 만들어야 한다.  
  - `return` 문을 사용하여 값을 반환하며, 호출한 곳에서 이 값을 받을 수 있다.  
  - 함수 내부에서 선언한 변수는 다른 함수에서 같은 이름을 사용할 수 있다.  

### 함수 호출 (Function Call)
- **함수를 호출할 때는 함수 이름을 사용**하고, 필요한 데이터를 **괄호 안에 넣는다.**  
- 이때 괄호 안의 값을 **"인수(Argument)"** 라고 하며, 인수는 **호출된 함수의 매개변수에 복사되어 사용된다.**  

### 함수 반환 (Function Return)
- **호출된 함수의 실행이 끝나고 값을 반환할 때 `return` 문을 사용한다.**  
- `return` 문을 만나면 호출한 곳으로 돌아가며, 나머지 코드를 실행한다.  
- **컴파일러는 함수 호출 시 반환값을 저장할 공간을 미리 준비한다.**  
  - 이 공간은 별도로 확보되며, 변수처럼 이름이 있는 것이 아니다.  

### 함수 선언 (Function Declaration)
- **컴파일러가 새로 만든 함수를 인식할 수 있도록 미리 알려주는 역할**을 한다.  
- 함수 원형 뒤에 **세미콜론(`;`)** 을 붙인다.  
- `main` 함수 앞에 선언하며, 매개변수 이름은 생략할 수 있다.  

**함수 선언이 필요한 이유**  
1. **반환값의 형태를 확인하기 위해**  
   - 컴파일러는 선언을 통해 반환형을 미리 인식한다.  
   - 함수 정의에 원형이 포함되어 있으면 별도의 선언이 필요 없다.  
2. **함수 호출 형식의 오류를 방지하기 위해**  
   - 함수 선언이 없으면 **함수 정의가 항상 함수 호출 이전에 있어야 한다.**  
   - 선언이 없을 경우 **반환형을 `int`로 가정하므로, 나중에 다른 자료형이 되면 에러 발생 가능**  
   ```c
   int add(int a, int b);  // 함수 선언 (반환형, 매개변수 타입만 명시)
   ```

---

## 7-2. 여러 가지 함수 유형

### 1) 매개변수와 반환값의 조합
- **모든 함수가 반환값과 매개변수를 가질 필요는 없다.**  
- 다음과 같은 조합이 가능하다.  

| 유형 | 매개변수 | 반환값 | 예제 |
|------|------|------|------|
| ✅ 있음 | 있음 | 있음 | `int add(int a, int b);` |
| ✅ 있음 | 없음 | 있음 | `int getNumber(void);` |
| ✅ 있음 | 있음 | 없음 | `void printChar(char c, int n);` |
| ✅ 있음 | 없음 | 없음 | `void printMessage(void);` |

### 2) 반환값이 없는 함수
- **단순히 데이터를 출력만 하는 함수라면 반환값이 필요 없다.**  
- `void` 반환형을 사용하며, `return` 문을 생략할 수도 있다.  
  ```c
  void printChar(char c, int n) {
      for (int i = 0; i < n; i++) {
          printf("%c", c);
      }
  }
  ```
- `return;`을 단독으로 사용하여 함수 실행을 종료할 수도 있다.  

### 3) 매개변수와 반환값이 모두 없는 함수
- **일정한 문자열을 여러 번 출력하는 함수처럼, 매개변수와 반환값이 필요 없는 경우**  
- **모든 반환형과 매개변수를 `void`로 선언**한다.  
- 호출할 때는 `()`만 사용하며, 반드시 독립된 문장으로 사용해야 한다.  
  ```c
  void printMessage(void) {
      printf("Hello, World!\n");
  }
  ```

---

## 7-3. 재귀 호출 함수 (Recursive Function)

### 1) 재귀 호출 (Recursion) 이란?
- **함수가 자기 자신을 호출하는 구조**를 가진 함수  
- **반드시 종료 조건을 포함해야 한다.**  
  - 종료 조건이 없으면 무한 루프에 빠지게 됨  
- `if` 문을 사용하여 호출 횟수를 조절할 수 있다.  

### 2) 재귀 호출과 반복문의 차이점
| 비교 항목 | 재귀 호출 | 반복문 |
|----------|----------|----------|
| 실행 방식 | 자신을 계속 호출 | 조건이 참인 동안 반복 실행 |
| 코드 가독성 | 경우에 따라 더 직관적 | 일반적으로 더 이해하기 쉬움 |
| 메모리 사용 | **호출 스택이 계속 증가** (비효율적) | **고정된 메모리 사용** (더 효율적) |
| 종료 방식 | **호출한 곳으로 돌아감** | 조건이 거짓이 될 때 종료 |

- **재귀 호출은 함수의 호출 스택을 사용하므로, 메모리 사용량이 증가할 수 있다.**  
- 따라서 **재귀 호출은 제한적으로 사용하는 것이 좋다.**  

**재귀 함수 예제: 팩토리얼 계산**  
```c
int factorial(int n) {
    if (n == 1) return 1;  // 종료 조건
    return n * factorial(n - 1);  // 자기 자신을 호출
}
```

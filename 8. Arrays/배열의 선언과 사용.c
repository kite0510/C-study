#include <stdio.h>

/*
 * 예제 8-1.C: 배열 선언 및 사용
 * 이 섹션에서는 기본적인 배열 선언, 초기화 및 접근을 보여줍니다.
 */
void example_8_1() {
    printf("\n--- 예제 8-1 ---\n");

    int ary[5];  // 크기가 5인 정수 배열 'ary'를 선언합니다. 이는 5개의 정수를 위한 공간을 할당합니다.

    // 배열 요소를 개별적으로 초기화합니다:
    ary[0] = 10;  // 첫 번째 요소(인덱스 0)에 10을 할당합니다.
    ary[1] = 20;  // 두 번째 요소(인덱스 1)에 20을 할당합니다.
    ary[2] = ary[0] + ary[1];  // 처음 두 요소의 합을 계산하여 세 번째 요소에 할당합니다.
    scanf("%d", &ary[3]);      // 사용자로부터 정수를 읽어와 네 번째 요소(인덱스 3)에 저장합니다.
    ary[4] = ary[3] + 20; //네번 째 요소에 20을 더하고 다섯번 째 요소에 저장합니다.

    // 배열의 요소를 출력합니다:
    printf("%d\n", ary[0]);  // 첫 번째 요소를 출력합니다.
    printf("%d\n", ary[1]);  // 두 번째 요소를 출력합니다.
    printf("%d\n", ary[2]);  // 세 번째 요소를 출력합니다.
    printf("%d\n", ary[3]);  // 네 번째 요소를 출력합니다.
    printf("%d\n", ary[4]);  // 다섯 번째 요소를 출력합니다.
}



/*
 * 예제 8-2.C: 배열을 사용한 성적 계산 프로그램
 * 이 섹션에서는 배열을 사용하여 학생 점수를 저장하고 처리하는 방법을 보여줍니다.
 */
void example_8_2() {
    printf("\n--- 예제 8-2 ---\n");

    int score[5];    // 5개의 점수를 저장할 정수 배열 'score'를 선언합니다.
    int i;           // 루프 카운터.
    int total = 0;   // 점수의 합계를 저장할 변수, 0으로 초기화합니다.
    double avg;      // 평균 점수를 저장할 변수 (정밀도를 위해 double 사용).

    // 점수 입력 및 누적:
    for (i = 0; i < 5; i++) { // 5번 반복합니다 (배열의 각 요소에 대해)
        scanf("%d", &score[i]);  // 사용자로부터 점수를 읽어와 배열에 저장합니다.
        total += score[i];     // 현재 점수를 'total'에 더합니다.
    }

    avg = total / 5.0; // 평균을 계산합니다.  부동 소수점 나누기를 위해 5.0 (double)을 사용합니다.

    // 개별 점수 출력:
    for (i = 0; i < 5; i++) {
        printf("%5d", score[i]); // 각 점수를 출력합니다. 필드 너비는 5로 지정합니다.
    }
    printf("\n"); // 점수 출력 후 줄 바꿈

    printf("평균 : %.1lf\n", avg); // 평균을 출력합니다. 소수점 한 자리까지 표시합니다.
}



/*
 * 예제 8-3.C: 배열과 함께 sizeof 사용
 * 이 섹션에서는 sizeof를 사용하여 배열의 크기와 요소 수를 확인하는 방법을 보여줍니다.
 */
void example_8_3() {
    printf("\n--- 예제 8-3 ---\n");

    int score[5];         // 5개의 정수를 갖는 배열을 선언합니다.
    int i;                // 루프 카운터.
    int total = 0;        // 점수의 총합.
    double avg;           // 평균 점수.
    int count;            // 배열의 요소 수.

    // sizeof를 사용하여 요소 수 계산:
    count = sizeof(score) / sizeof(score[0]);
    // sizeof(score)    : 배열의 전체 크기를 바이트 단위로 반환합니다.
    // sizeof(score[0]) : 단일 요소(정수)의 크기를 바이트 단위로 반환합니다.
    // 전체 크기를 한 요소의 크기로 나누면 요소 수가 됩니다.


    // 점수 입력 및 누적 (계산된 'count' 사용):
    for (i = 0; i < count; i++) {
        scanf("%d", &score[i]);
        total += score[i];
    }

    // 평균 계산:
    avg = (double)total / count;  // 정확한 나누기를 위해 'total'을 double로 형변환합니다.


    // 개별 점수 출력:
    for (i = 0; i < count; i++) {
        printf("%5d", score[i]);
    }
    printf("\n");

    // 출력:
    printf("평균 : %.1lf\n", avg);
}

int main() {
    // 각 예제 함수를 차례로 호출합니다.
    example_8_1();
    example_8_2();
    example_8_3();

    return 0; // 프로그램 실행 성공을 나타냅니다.
}

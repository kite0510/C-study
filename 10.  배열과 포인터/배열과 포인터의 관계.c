#include <stdio.h>

int main(void) {
    // 예제 10-1.c (배열명에 정수 연산을 수행해 배열 요소 사용)
    // -------------------------------------------------------

    int ary[3]; // int형 변수 3개를 저장할 수 있는 배열 선언
    int i;       // 반복문에서 사용할 변수

    *(ary + 0) = 10; // ary[0] = 10; 과 동일.  배열의 첫 번째 요소에 10 대입

    *(ary + 1) = *(ary + 0) + 10; // ary[1] = ary[0] + 10; 과 동일. 두 번째 요소에 20 대입

    printf("세 번째 배열 요소에 키보드 입력 : ");
    scanf("%d", ary + 2); // &ary[2]와 동일. 세 번째 요소의 주소를 scanf에 전달.

    for (i = 0; i < 3; i++) { // 배열의 모든 요소 출력
        printf("%5d", *(ary + i)); // ary[i]와 동일. i번째 요소의 값 출력
    }
    printf("\n");


    // 예제 10-2.c (배열명처럼 사용하는 포인터)
    // -------------------------------------------------------

    int ary2[3];   // int형 배열 선언
    int *pa = ary2; // 포인터 pa에 배열 ary2의 시작 주소(첫 번째 요소 주소) 저장
    int j;         // 반복문에서 사용할 변수

    *pa = 10;      // pa가 가리키는 곳(ary2[0])에 10 대입

    *(pa + 1) = 20;    // pa가 가리키는 곳에서 1만큼 떨어진 곳(ary2[1])에 20 대입

    pa[2] = pa[0] + pa[1]; // ary2[2] = ary2[0] + ary2[1]; 과 동일. (30)


    for (j = 0; j < 3; j++) { //배열의 모든 요소를 출력
        printf("%5d", pa[j]);     // *(pa + j) 와 동일, pa를 배열명처럼 사용
    }
    printf("\n");

    // 예제 10-3.c (포인터를 이용한 배열의 값 출력)
    // -------------------------------------------------------
    int ary3[3] = {10, 20, 30}; // 배열 초기화
    int *pb = ary3;        // 포인터 pb에 배열 ary3의 시작 주소 저장
    int k;             // 반복문을 위한 변수

    printf("배열의 값 : ");
    for (k = 0; k < 3; k++) {
        printf("%d ", *pb); // pb가 가리키는 배열 요소의 값 출력
        pb++;             // pb를 다음 배열 요소를 가리키도록 증가 (포인터 연산)
    }
    printf("\n");

    // 예제 10-4.c (포인터의 뺄셈과 관계 연산)
    // -------------------------------------------------------

    int ary4[5] = {10, 20, 30, 40, 50}; // 배열 선언과 초기화
    int *pc = ary4;                    // pc는 ary4의 첫 번째 요소를 가리킴
    int *pd = pc + 3;                   // pd는 ary4의 네 번째 요소를 가리킴

    printf("pc : %u\n", (unsigned int)pc); // pc의 주소 값 출력 (unsigned int로 형변환)
    printf("pd : %u\n", (unsigned int)pd); // pd의 주소 값 출력

    printf("pd - pc : %u\n", (unsigned int)(pd - pc)); // 두 포인터의 뺄셈 (결과는 요소 간의 간격, 즉 3)

    printf("앞에 있는 배열 요소의 값 출력 : ");
    if (pc < pd) {                // pc가 pd보다 앞에 있는지 확인
        printf("%d\n", *pc);     // pc가 가리키는 요소의 값 출력
    } else {
        printf("%d\n", *pd);     // pd가 가리키는 요소의 값 출력
    }
    return 0;
}
